## 启动桌面客户端（PySide6 单体应用）

本项目仅包含桌面客户端，不存在前后端分离或本地 Web 服务。

### 方法 A：一键运行（推荐）
在 PowerShell 中进入 `desktop_app/` 目录后执行：

```powershell
# 推荐：直接运行一键脚本（若存在）
.\一键运行.bat

# 或使用 Python 启动（需已安装依赖）
python .\app.py
```

或直接双击 `desktop_app/一键运行.bat`：

- 自动创建并激活虚拟环境 `.venv/`
- 安装依赖 `requirements.txt`
- 启动客户端 `app.py`

### 方法 B：手动方式（仅客户端）
确保当前目录为 `desktop_app/`：

```powershell
# 可选：创建本地虚拟环境，避免全局包干扰
python -m venv .venv
.\.venv\Scripts\Activate.ps1

# 安装依赖
python -m pip install -r .\requirements.txt

# 启动桌面客户端（使用本地虚拟环境解释器）
.\.venv\Scripts\python.exe .\app.py
```

### 环境变量与 .env（重要）
为确保密钥安全，请使用本地 .env 文件或系统环境变量，不要在 JSON/代码中填写明文密钥。

1) 创建并编辑项目根目录的 .env（可复制 .env.example 为模板）：
```
DASHSCOPE_API_KEY=你的DashScope密钥
# 可选：若使用谷歌/Bing 搜索工具，请在此处设置（不要提交到版本库）
# GOOGLE_API_KEY=你的GoogleAPIKey
# GOOGLE_CSE_CX=你的CSE索引ID
# BING_SEARCH_KEY=你的Bing密钥
# BING_ENDPOINT=https://api.bing.microsoft.com
```
2) 应用启动时会自动尝试加载 .env；若检测不到 DASHSCOPE_API_KEY，将阻断启动并给出指引。
3) 预置/新建的模型与 Agent 默认使用：
   - 模型：qwen-turbo-latest
   - 端点：https://dashscope.aliyuncs.com/compatible-mode/v1
   - 环境变量：DASHSCOPE_API_KEY

### 常见问题
- 若看到 `WARNING: Ignoring invalid distribution -angchain-community ...`，这是你本机全局环境中残留包的警告，不影响本项目运行。使用方法 A 的一键脚本会在隔离环境中运行，建议优先使用。
- 本项目不启动本地 Web 服务器，端口/网络相关提示可忽略。

### 运行环境指纹
- 窗口标题包含指纹：`Autogen 桌面客户端 (0.6.2) [exe: <python.exe>{ | venv}]`，用于区分解释器与是否处于虚拟环境。

### 目录说明（节选）
- `desktop_app/app.py`：主程序入口
- `desktop_app/requirements.txt`：依赖（本地 `autogen_repo/` 与 `autogen_client/`）
- `desktop_app/autogen_repo/`：本地 AutoGen 0.6.2 知识库
- `desktop_app/autogen_client/`：本地适配层与后端调用实现


给我 查询2025年发生的印度和巴基斯坦之间的武装冲突的新闻，按照时间降序，最多10条，知名通讯社发布的新闻。要求：每条单独一个段落，包含：通讯社名称，发布日期，中文的新闻标题，新闻链接。




.\.venv\Scripts\python.exe .\app.py
python .\app.py

python .\scripts\run_memory_two_rounds.py -c ".\config\agents\agent_with_chroma.json" --force-policy qa_both

----

# 基本用法
python .\scripts\run_memory_interactive.py -c .\config\agents\agent_with_chroma.json

# 指定内存写入策略
python .\scripts\run_memory_interactive.py -c .\config\agents\agent_with_chroma.json --force-policy qa_both

qwen3-coder-plus-2025-07-22


向量库管理页面启动：
python ui\pages\vectorstores\demo.py
PowerShell（项目根目录）：
python ui\pages\vectorstores\demo.py
或模块方式：python -m ui.pages.vectorstores.demo


---

python .\scripts\run_session_interactive.py -c ".\config\agents\agent_with_qa_history.json" --console-log --log-level DEBUG

继续最近一次会话（默认行为）：
powershell
python .\scripts\run_router_interactive.py -c ".\config\agents\agent_with_chroma_router.json" --console-log --log-level DEBUG

指定固定会话ID（长期人设，如“张三”会话）：
powershell
python .\scripts\run_router_interactive.py -c ".\config\agents\agent_with_chroma_router.json" --session-id user-zhangsan --console-log --log-level DEBUG

明确新建一个全新会话：
powershell
python .\scripts\run_router_interactive.py -c ".\config\agents\agent_with_chro


---

直接启动（无锁场景会出现交互提示，默认张三）：
powershell
python .\scripts\run_router_interactive.py -c ".\config\agents\agent_with_chroma_router.json" --console-log --log-level DEBUG
一次性选择并锁定为“张三”，以后无需输入：
powershell
python .\scripts\run_router_interactive.py -c ".\config\agents\agent_with_chroma_router.json" --user 张三 --lock-session
清除锁后重新选择：
powershell
python .\scripts\run_router_interactive.py --clear-session-lock


python ui\pages\vectorstores\demo_debug.py

python app_new.py

----

启动方式（PowerShell）
优先用项目根目录运行入口：

powershell
python -u app_new.py
如果你使用本地虚拟环境 .venv-ocr，建议直接用其解释器运行：

powershell
.\.venv-ocr\Scripts\python.exe -u app_new.py
若需调试异常堆栈：

powershell


python .\scripts\run_router_interactive.py -c ".\config\agents\agent_session_autogen_vector.json" --console-log --log-level DEBUG


$cfg = ".\config\agents\agent_with_qa_history.json"
$input = @"
你好，帮我总结下最近的会话要点？
:quit
"@
python .\scripts\run_session_interactive.py -c $cfg --quiet | Write-Output


$cfg = ".\config\agents\agent_session_autogen_vector.json"
$input = @"
你好，简单介绍一下项目架构？
:quit
"@
python .\scripts\run_router_interactive.py -c $cfg --new-session --quiet | Write-Output


python .\scripts\run_model_interactive.py -c "d:\AI-Projects\desktop_app\config\models\moonshot_kimi_k2.json" --quiet





d:/AI-Projects/desktop_app/.venv-ocr/Scripts/Activate.ps1




git config --global user.name "xm-fieldservice"
git config --global user.email "1076223776@qq.com"

git init

git remote add origin https://github.com/xm-fieldservice/ai-base.git
git remote -v
现在您的本地仓库已经与远程仓库 https://github.com/xm-fieldservice/mcp-builder.git 建立了连接。

远程仓库配置如下：

远程名称：origin
远程URL：https://github.com/xm-fieldservice/mcp-builder.git
已配置用于拉取(fetch)和推送(push)操作
您现在可以进行以下操作：

拉取远程仓库的内容：git pull origin main（或其他分支名）
推送本地更改到远程仓库：git push origin main（或其他分支名）
查看远程分支：git branch -r


git clone <repository-url>
git status

分支管理
git branch <branch-name>    创建分支
git checkout <branch-name>   切换分支
git merge <branch-name>      合并分支
git push origin <branch-name> 推送到远程分支
git pull origin <branch-name> 拉取远程分支
git fetch origin <branch-name> 拉取远程分支

git branch -v

git push -u origin master

---

python -X faulthandler -u app_new.py

python .\scripts\run_team_interactive.py `
  --team-json .\config\teams\team_demo_interactive.json `
  --max-rounds 1 --timeout 60 --max-output-chars 1000 `
  --env-file .\.env
 

 ---
python .\scripts\run_team_interactive_events.py `
  --team-json .\config\teams\team_demo_interactive.json `
  --max-rounds 2 --timeout 60 `
  --env-file .\.env

---
  python start_backend.py --port 3002

  localStorage.setItem('apiBaseOverride', 'http://127.0.0.1:3002');
location.reload();

